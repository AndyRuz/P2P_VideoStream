# Kivy Layout File for P2P Video Streaming
# Defines the UI structure and styling

<PeerConfigScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 20
        spacing: 20
        
        # Settings button in top-left
        BoxLayout:
            size_hint_y: 0.08
            Button:
                text: '‚öôÔ∏è'
                size_hint_x: 0.15
                font_size: '24sp'
                on_release: root.show_settings()
            Widget:
        
        # Header
        BoxLayout:
            size_hint_y: 0.15
            Label:
                text: 'üìπ P2P Video Streaming'
                font_size: '32sp'
                bold: True
        
        # Status
        Label:
            id: status_label
            text: 'üî¥ Peer not started'
            size_hint_y: 0.1
            color: 1, 0, 0, 1
        
        # Configuration Section
        BoxLayout:
            orientation: 'vertical'
            size_hint_y: 0.5
            spacing: 10
            
            Label:
                text: 'Peer Configuration'
                font_size: '20sp'
                bold: True
                size_hint_y: 0.2
            
            BoxLayout:
                spacing: 10
                TextInput:
                    id: peer_id_input
                    hint_text: 'Peer ID'
                    multiline: False
                TextInput:
                    id: port_input
                    hint_text: 'Port'
                    text: '5000'
                    multiline: False
            
            BoxLayout:
                spacing: 10
                TextInput:
                    id: tracker_host_input
                    hint_text: 'Tracker Host'
                    text: 'localhost'
                    multiline: False
                TextInput:
                    id: tracker_port_input
                    hint_text: 'Tracker Port'
                    text: '6000'
                    multiline: False
            
            Button:
                id: start_button
                text: '‚ñ∂Ô∏è Start Peer'
                size_hint_y: 0.3
                on_release: root.start_peer()

<MyVideosScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Settings button in top-left
        BoxLayout:
            size_hint_y: 0.08
            Button:
                text: '‚öôÔ∏è'
                size_hint_x: 0.1
                font_size: '24sp'
                on_release: root.show_settings()
            Widget:
        
        # Header and upload button
        BoxLayout:
            size_hint_y: 0.1
            Label:
                text: 'üìπ My Video Library'
                font_size: '20sp'
                bold: True
                halign: 'left'
            Button:
                text: '‚¨ÜÔ∏è Upload Video'
                size_hint_x: 0.35
                on_release: root.upload_video()
        
        # Navigation bar
        BoxLayout:
            size_hint_y: 0.08
            spacing: 5
            Button:
                text: 'üìπ My Videos'
                disabled: True
            Button:
                text: '‚òÅÔ∏è Network'
                on_release: app.root.current = 'network'
            Button:
                text: 'üë• Peers'
                on_release: app.root.current = 'peers'
        
        # Videos list
        ScrollView:
            GridLayout:
                id: videos_list
                cols: 1
                spacing: 10
                size_hint_y: None
                height: self.minimum_height

<NetworkBrowseScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Settings button in top-left
        BoxLayout:
            size_hint_y: 0.08
            Button:
                text: '‚öôÔ∏è'
                size_hint_x: 0.1
                font_size: '24sp'
                on_release: root.show_settings()
            Widget:
        
        # Header and refresh button
        BoxLayout:
            size_hint_y: 0.1
            Label:
                text: '‚òÅÔ∏è Network Videos'
                font_size: '20sp'
                bold: True
                halign: 'left'
            Button:
                text: 'üîÑ Refresh'
                size_hint_x: 0.3
                on_release: root.refresh_network()
        
        # Navigation bar
        BoxLayout:
            size_hint_y: 0.08
            spacing: 5
            Button:
                text: 'üìπ My Videos'
                on_release: app.root.current = 'my_videos'
            Button:
                text: '‚òÅÔ∏è Network'
                disabled: True
            Button:
                text: 'üë• Peers'
                on_release: app.root.current = 'peers'
        
        # Network videos list
        ScrollView:
            GridLayout:
                id: network_videos_list
                cols: 1
                spacing: 10
                size_hint_y: None
                height: self.minimum_height

<PeersScreen>:
    BoxLayout:
        orientation: 'vertical'
        padding: 10
        spacing: 10
        
        # Settings button in top-left
        BoxLayout:
            size_hint_y: 0.06
            Button:
                text: '‚öôÔ∏è'
                size_hint_x: 0.1
                font_size: '24sp'
                on_release: root.show_settings()
            Widget:
        
        # Header
        Label:
            text: 'üë• Connected Peers'
            font_size: '20sp'
            bold: True
            size_hint_y: 0.06
        
        # My Peer Info Section
        BoxLayout:
            size_hint_y: 0.12
            padding: 10
            canvas.before:
                Color:
                    rgba: 0.2, 0.6, 0.86, 0.3
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                id: my_peer_info
                text: 'üìç Your Info:\nPeer ID: ---\nHost: ---\nPort: ---'
                halign: 'left'
                valign: 'middle'
                font_size: '14sp'
                text_size: self.size
        
        # Connect to peer section
        BoxLayout:
            size_hint_y: 0.12
            spacing: 10
            TextInput:
                id: peer_host_input
                hint_text: 'Peer Host'
                multiline: False
            TextInput:
                id: peer_port_input
                hint_text: 'Peer Port'
                multiline: False
            Button:
                text: '‚ûï Connect'
                size_hint_x: 0.3
                on_release: root.connect_to_peer()
        
        # Navigation bar
        BoxLayout:
            size_hint_y: 0.08
            spacing: 5
            Button:
                text: 'üìπ My Videos'
                on_release: app.root.current = 'my_videos'
            Button:
                text: '‚òÅÔ∏è Network'
                on_release: app.root.current = 'network'
            Button:
                text: 'üë• Peers'
                disabled: True
        
        # Peers list
        ScrollView:
            GridLayout:
                id: peers_list
                cols: 1
                spacing: 10
                size_hint_y: None
                height: self.minimum_height
